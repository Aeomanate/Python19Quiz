# Text quest
import random
import time
from copy import deepcopy
from typing import Union

from Common import decode
from Hints import encoded


def gen_random_mistake():
    return RegularOption(
        title='–°–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞',
        text=random.choice([
            '–ï–≥–µ–≥–µ, —á—Ç–æ —Ç—É—Ç —Ç–∞–∫–æ–µ —É –Ω–∞—Å, –∞? –ë—É–ª—â–∏—Ç!',
            '–ó–µ–º–ª—è —Å–æ–¥—Ä–æ–≥–Ω—É–ª–∞—Å—å, –Ω–æ –Ω–µ —Ä–∞—Å–∫–æ–ª–æ–ª–∞—Å—å –Ω–∞–ø–æ–ø–æ–ª–∞–º...',
            '–°–∫–µ–ª–µ—Ç –≤ —É–≥–ª—É –≥–æ–≤–æ—Ä–∏–ª –ø–æ—Ö–æ–∂–∏–µ –≤–µ—â–∏...',
            '–≠—Ö–æ —Ä–∞–∑–Ω–µ—Å–ª–æ—Å—å –ø–æ –∑–∞–ª—É, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–Ω—è–ª —Å–º—ã—Å–ª–∞...',
            '–ú—É–¥—Ä–µ—Ü—ã –ø—Ä–æ—à–ª–æ–≥–æ –±—ã –ø–æ–∫–∞—á–∞–ª–∏ –≥–æ–ª–æ–≤–∞–º–∏...',
            '–ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—Å—è, –ø–æ–ø—ã—Ç–∫–∞ ‚Äî –Ω–µ –ø—ã—Ç–∫–∞, –Ω–æ —ç—Ç–æ –±—ã–ª–æ —Å—Ç–∏–ª—å–Ω–æ!',
            '–ì–æ–ª–æ—Å–∞ –¥—Ä–µ–≤–Ω–∏—Ö —à–µ–ø—á—É—Ç: "–ù—É —Ç—ã –¥–∞–µ—à—å..."',
            '–°–∫–≤–æ–∑–Ω—è–∫ –¥–æ–Ω–µ—Å –æ–±—Ä—ã–≤–∫–∏ —Ñ—Ä–∞–∑... –∏ –≤—Å–µ –æ–Ω–∏ –ø—Ä–æ –±—É–ª—â–∏—Ç.',
            '–í—Å–µ–ª–µ–Ω–Ω–∞—è –∑–∞–º–µ—Ä–ª–∞ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏... –∏ –ø—Ä–æ–¥–æ–ª–∂–∏–ª–∞ –∑–µ–≤–∞—Ç—å.',
            '–ï—Å–ª–∏ –±—ã –∫–∞–º–Ω–∏ –º–æ–≥–ª–∏ —Å–º–µ—è—Ç—å—Å—è, —ç—Ç–æ—Ç –∑–∞–ª –±—ã–ª –±—ã —Å–∞–º—ã–º —à—É–º–Ω—ã–º –º–µ—Å—Ç–æ–º!',
            '–í–µ–ª–∏–∫–∏–π –°–ø–µ—à–ª —Å–∫–∞–∑–∞–ª "–Ω–µ—Ç" –∏ —É–¥–∞–ª–∏–ª—Å—è –≤ –∑–∞–∫–∞—Ç. *–ù–∞–±–ª—é–¥–∞–µ—Ç –∑–∞ —Ç–æ–±–æ–π*',
            '–ó–∞–¥—É–º–∞–π—Å—è: –º–æ–∂–µ—Ç, –≤—Å–µ –ø—Ä–æ—â–µ, —á–µ–º –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ?',
            '–í–æ—Ä–æ–Ω –Ω–∞ –∫–∞—Ä–Ω–∏–∑–µ –æ–¥–æ–±—Ä–∏—Ç–µ–ª—å–Ω–æ –∫–∞—Ä–∫–Ω—É–ª... –Ω–æ –Ω–∞–¥ —á–µ–º, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ.',
            '–í —Ç–µ–º–Ω–æ—Ç–µ —Ä–∞–∑–¥–∞–ª—Å—è —á–µ–π-—Ç–æ —Å–º–µ—à–æ–∫. –ù–∞–≤–µ—Ä–Ω–æ–µ, —Ç–≤–æ–π.',
            '–¢–µ–Ω–∏ –Ω–∞ —Å—Ç–µ–Ω–∞—Ö –ø–µ—Ä–µ–≥–ª—è–Ω—É–ª–∏—Å—å, –Ω–æ –ø—Ä–æ–º–æ–ª—á–∞–ª–∏.',
            '–ö—Ä–∏—Å—Ç–∞–ª–ª –Ω–∞–¥ —Ç–æ–±–æ–π —Å–ª–µ–≥–∫–∞ –∑–∞—Å–≤–µ—Ç–∏–ª—Å—è –∂–µ–ª—Ç–∏–∑–Ω–æ–π',
            '–ì–¥–µ-—Ç–æ –¥–∞–ª–µ–∫–æ –≤–∑–¥–æ—Ö–Ω—É–ª —Å—Ç–∞—Ä—ã–π –∑–∞—á–∞—Ä–æ–≤–∞—Ç–µ–ª—å –∑–º–µ–π...',
            '–ó–∞–Ω–∞–≤–µ—Å–∫–∞ —Å–ª–µ–≥–∫–∞ –¥—Ä–æ–≥–Ω—É–ª–∞. –ù–æ –æ–∫–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –Ω–µ –æ—Ç–≤–æ—Ä–∏–ª–æ—Å—å.',
            '–≠—Ç–æ—Ç –æ—Ç–≤–µ—Ç —É–≤–µ–∫–æ–≤–µ—á–∏—Ç—Å—è –≤ –∞–Ω–Ω–∞–ª–∞—Ö –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–π!',
            '–õ–µ–≥–µ–Ω–¥—ã —Å–ª–æ–∂–∞—Ç –æ —Ç–µ–±–µ —Å–∫–∞–∑–∞–Ω–∏–µ... –ù–æ –Ω–µ —Ç–∞–∫–æ–µ, –∫–∞–∫ —Ö–æ—á–µ—Ç—Å—è.',

            '–°—Ç–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∞–π–Ω, –Ω–æ —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç –∫ –Ω–∏–º –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è...',
            '–ì–¥–µ-—Ç–æ –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –≤—Å–µ–ª–µ–Ω–Ω–æ–π —ç—Ç–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –±—ã–ª–æ –±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ.',
            '–¢—ã –ø–æ—á—Ç–∏ –≤–∑–ª–æ–º–∞–ª–∞ –º–∞—Ç—Ä–∏—Ü—É, –Ω–æ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.',
            '–¢–≤–æ–∏ —Å–ª–æ–≤–∞ –æ—Ç–æ–∑–≤–∞–ª–∏—Å—å –≤ –ø—É—Å—Ç–æ—Ç–µ... –∏ –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –æ—Ç–≤–µ—Ç–∞.',
            '–°–∫—Ä–∏–ø–Ω—É–ª–∞ –¥–≤–µ—Ä—å, —Å–ª–æ–≤–Ω–æ –≤–æ–∑–º—É—â–∞—è—Å—å —É—Å–ª—ã—à–∞–Ω–Ω–æ–º—É.',
            '–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –æ—à–∏–±–æ–∫ –ø–æ–ø–æ–ª–Ω–∏–ª–∞—Å—å –µ—â–µ –æ–¥–Ω–∏–º –ø—Ä–∏–º–µ—Ä–æ–º!',
            '–ó–∞ –∫—É–ª–∏—Å–∞–º–∏ –∫—Ç–æ-—Ç–æ –≥—Ä–æ–º–∫–æ —à–µ–ø–Ω—É–ª: "–≠—Ç–æ –ø—Ä–æ–≤–∞–ª!"',
            '–î–∞–∂–µ –∫–∞–º–µ–Ω—å –≤ —É–≥–ª—É —Å–ª–µ–≥–∫–∞ –ø–æ–∫–∞—á–Ω—É–ª—Å—è –æ—Ç –Ω–µ–¥–æ—É–º–µ–Ω–∏—è.',
            '–ì–¥–µ-—Ç–æ –≤–¥–∞–ª–∏ –≥—Ä—è–Ω—É–ª –≥—Ä–æ–º. –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ? –ù–µ –¥—É–º–∞—é.',
            '–í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∫—Ç–æ-—Ç–æ –≤ –º–∏—Ä–µ facepalm‚Äô–Ω—É–ª—Å—è.',
            '–¢–µ–º–Ω—ã–µ —Å–∏–ª—ã –Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–∏–µ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª–∏—Å—å —Ç–æ–±–æ–π... –∏ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–Ω–æ –æ—Ç–≤–µ—Ä–Ω—É–ª–∏—Å—å.',
            '–ì–ª—É–±–æ–∫–æ –≤ –ª–µ—Å—É —Ñ–∏–ª–∏–Ω —Å–∫–∞–∑–∞–ª "—É—É—É—É—É", —è–≤–Ω–æ –Ω–µ –Ω–∞–º–µ–∫–∞—è –Ω–∏ –Ω–∞ —á—Ç–æ.',
            '–¢–µ–±—è –±—ã –ø–æ–Ω—è–ª–∏... –Ω–æ –Ω–µ –≤ —ç—Ç–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º –∏–∑–º–µ—Ä–µ–Ω–∏–∏...',

            '–ù—É –ø–æ—á—Ç–∏. –ü—Ä—è–º –≤–æ—Ç –Ω–∞ –º–∏–ª–ª–∏–º–µ—Ç—Ä –æ—Ç –≥–µ–Ω–∏–∞–ª—å–Ω–æ—Å—Ç–∏.',
            '–ö–æ–º–ø—å—é—Ç–µ—Ä –ø–æ—Å–æ–≤–µ—â–∞–ª—Å—è –∏ –≤—ã–¥–∞–ª: "–≠—ç—ç... –Ω–µ—Ç."',
            '–ö–Ω–æ–ø–∫–∞ –æ–±–∏–¥–µ–ª–∞—Å—å. –û–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ —Ç–≤–æ—è –ø–æ–¥—Ä—É–≥–∞.',
            '–¢—ã —Å–µ—Ä—å—ë–∑–Ω–æ –¥—É–º–∞–ª–∞, —á—Ç–æ —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç? –•—Ä–∞–±—Ä–æ.',
            '–ï—Å–ª–∏ –±—ã –æ—à–∏–±–∫–∏ –≤—ã–¥–∞–≤–∞–ª–∏ –æ—á–∫–∏, —Ç—ã –±—ã–ª–∞ –±—ã —á–µ–º–ø–∏–æ–Ω–æ–º!',
            '–ù–∞ —ç—Ç–æ–º –º–æ–º–µ–Ω—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç –∑–∞–ø–ª–∞–∫–∞–ª.',
            '–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑. –ù–æ... —Å–∏–ª—å–Ω–æ –ª—É—á—à–µ.',
            '–ú—ã—à–∫–∞ –∑–∞–ª–∞–≥–∞–ª–∞ –æ—Ç –∫—Ä–∏–Ω–∂–∞.',
            '–ö—Ç–æ-—Ç–æ –≥–¥–µ-—Ç–æ —Å–µ–π—á–∞—Å —Ç–æ–∂–µ —Ç–∞–∫ —Ç—É–ø–∏—Ç. –¢—ã –Ω–µ –æ–¥–Ω–∞.',
            '–ò–≥—Ä–∞ —Å–¥–µ–ª–∞–ª–∞ –≤–∏–¥, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –±—ã–ª–æ. –î–∞–π –µ–π —à–∞–Ω—Å.',
            '–≠—Ç–æ –ø–æ—á—Ç–∏ –∫–∞–∫ –≤—ã–∏–≥—Ä–∞—Ç—å. –ù–æ –Ω–∞–æ–±–æ—Ä–æ—Ç.',
            '–û—à–∏–±–∫–∞ 404: –ª–æ–≥–∏–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.',
            '–¢—ã –Ω–µ –ø—Ä–æ–∏–≥—Ä–∞–ª–∞, —Ç—ã –Ω–∞—à–ª–∞ –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–π –ø—É—Ç—å –≤ –Ω–∏–∫—É–¥–∞.',
            '–ù—É, —ç—Ç–æ—Ç –ø—É—Ç—å, –∫–æ–Ω–µ—á–Ω–æ, —Ç–æ–∂–µ –≤–µ–¥—ë—Ç –∫—É–¥–∞-—Ç–æ. –í —Å—Ç–µ–Ω—É.',
            '–ü–ª–∞–Ω –±—ã–ª —Ö–æ—Ä–æ—à. –ü–æ–∫–∞ —Ç—ã –µ–≥–æ –Ω–µ –Ω–∞—á–∞–ª–∞.',
            '–ï—Å–ª–∏ –± —Ç—ã –∏–≥—Ä–∞–ª –Ω–∞ –≥–∏—Ç–∞—Ä–µ, —Ç–æ —ç—Ç–æ –±—ã–ª–∞ –±—ã —Ñ–∞–ª—å—à–∏–≤–∞—è –Ω–æ—Ç–∞.',
            '–•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞! –ù—É, –Ω–µ –æ—á–µ–Ω—å. –ù–æ —Ç—ã —Å—Ç–∞—Ä–∞–ª–∞—Å—å!',
            '–ì–¥–µ-—Ç–æ –≤ –º–∏—Ä–µ –º—É—Ä–∞–≤–µ–π —Å–¥–µ–ª–∞–ª —ç—Ç–æ –ª—É—á—à–µ.',
            '–í–æ—Ç –±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞–∂–∞—Ç—å Ctrl+Z –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏.',
            '–ü–æ—Ç—Ä—è—Å–∞—é—â–∏–π —Ö–æ–¥. –í —Ç–æ–º —Å–º—ã—Å–ª–µ, —á—Ç–æ –º—ã –ø–æ—Ç—Ä—è—Å–µ–Ω—ã.',
            '–¢–∞–∫–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –µ—â—ë –Ω–µ –≤–∏–¥–µ–ª –Ω–∏–∫—Ç–æ. –î–∞–∂–µ —Å–∞–º–∞ –∏–≥—Ä–∞.',
            '–≠—Ç–æ—Ç —à–∞–≥ –≤–æ—à—ë–ª –±—ã –≤ —É—á–µ–±–Ω–∏–∫ –ø–æ "–ö–∞–∫ –Ω–µ –Ω–∞–¥–æ".',
            '–¢—ã –±—ã –ø–æ–±–µ–¥–∏–ª–∞, –µ—Å–ª–∏ –±—ã –∏–≥—Ä–∞ –±—ã–ª–∞ –Ω–∞–æ–±–æ—Ä–æ—Ç.',
            '–ó–∞—á–µ–º —Ç—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∞? –ü—Ä–æ—Å—Ç–æ... –∑–∞—á–µ–º?',
            '–£—Ä–æ–≤–µ–Ω—å IQ: ü•î',
            '–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–ª–µ–≥–∫–∞ –ø–æ–¥–≥–æ—Ä–µ–ª–∞. –ù–æ –¥–µ—Ä–∂–∏—Ç—Å—è.',
            '–•–æ–¥ —Å—Ç—Ä–∞–Ω–Ω—ã–π. –î–∞–∂–µ –∏–≥—Ä–∞ –∑–∞–ø–æ–¥–æ–∑—Ä–∏–ª–∞ –±–∞–≥.',
            '–ï—Å–ª–∏ —ç—Ç–æ —Ç—Ä–æ–ª–ª–∏–Ω–≥ ‚Äî —Ç—ã –≤ –Ω—ë–º —Ö–æ—Ä–æ—à.',
            '–¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—Ç... –Ω–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫.',
            '–£ —ç—Ç–æ–π –æ—à–∏–±–∫–∏ –µ—Å—Ç—å –≥—Ä—É–ø–ø–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –ò —Ç—ã ‚Äî –µ—ë –ª–∏–¥–µ—Ä.',
            '–ù–∞ –æ–ª–∏–º–ø–∏–∞–¥–µ –ø–æ —Ñ–µ–π–ª–∞–º ‚Äî —Ç–≤–æ—è –∑–æ–ª–æ—Ç–∞—è!',
            '–¢—ã –Ω–∞–∂–∞–ª–∞ —Ç—É–¥–∞, –∫—É–¥–∞ –Ω–∏–∫—Ç–æ –Ω–µ –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∏–º–∞—Ç—å.',
            '–ü—É–ª—å—Ç –æ—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞ —Ç–∞–∫–æ–π: "–Ø —Ç—É—Ç –ø—Ä–∏ —á—ë–º?"',
            '–°–∫–æ—Ä–æ —Ç—ã —Å–æ–±–µ—Ä—ë—à—å –∫–æ–º–±–æ –∏–∑ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫!',
            '–ù—É, —Ç–µ–ø–µ—Ä—å —Ç—ã —Ö–æ—Ç—è –±—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ –Ω–µ –Ω–∞–¥–æ.',
            '–ó–∞—Ç–æ –≤–µ—Å–µ–ª–æ! (–Ω–µ—Ç)',
            '–ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ –∫—Ç–æ-—Ç–æ –∑–∞–∫—Ä–∏—á–∞–ª: "–ù–ï–ï–ï–¢!"',
            '–ú—ã –Ω–µ –∑–ª–∏–º—Å—è. –ü—Ä–æ—Å—Ç–æ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω—ã.',
            '–≠—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞. –≠—Ç–æ —Å—Ç–∏–ª—å —Ç–∞–∫–æ–π. –ù–æ–≤—ã–π.',
            '–ù–∞ –º–µ—Å—Ç–µ —ç—Ç–æ–π –æ—à–∏–±–∫–∏ –º–æ–≥–ª–∞ –±—ã—Ç—å —Ç–≤–æ—è —Ä–µ–∫–ª–∞–º–∞.',
            '–¢—ã –∏–≥—Ä–∞–ª–∞? –ò–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –ø—Ä–µ–¥–µ–ª —Ç–µ—Ä–ø–µ–Ω–∏—è –∏–≥—Ä—ã?',
            '–ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å –∂–∏–∑–Ω—å" –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞.',
            '–ö–∞–∫ –≥–æ–≤–æ—Ä–∏–ª –æ–¥–∏–Ω –º—É–¥—Ä–µ—Ü: "–ë–ª–∏–Ω."',
            '–ï—Å–ª–∏ –±—ã —ç—Ç–æ –±—ã–ª–∞ –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞, —Ç—ã –±—ã —É—à–ª–∞ —Å –ø—Ä–∏–∑–æ–º –ª—É—á—à–µ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞.',
            '–°–∫—É—á–Ω–æ –Ω–µ –±—É–¥–µ—Ç. –ù–æ —ç—Ç–æ –Ω–µ —Ç–æ—á–Ω–æ.',
            '–¢–≤–æ—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: –∑–∞–ø—É—Ç–∞—Ç—å –¥–∞–∂–µ —Å–∞–º—É –∏–≥—Ä—É.',
            '–¢—ã –±—É–¥—Ç–æ —Å–ª–æ–º–∞–ª–∞ —á–µ—Ç–≤—ë—Ä—Ç—É—é —Å—Ç–µ–Ω—É. –õ–±–æ–º.',
            '–®–∞–Ω—Å—ã –±—ã–ª–∏... –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏.',
            '–ê—á–∏–≤–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞: "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø—Ä–æ–≤–∞–ª—É!"',
            '–¢—ã –Ω–∞–∂–∞–ª–∞ –Ω–µ —Ç—É–¥–∞. –ù–æ –∫–∞–∫ –∫—Ä–∞—Å–∏–≤–æ —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∞!',
            '–°—Ü–µ–Ω–∞—Ä–∏–π —Å —Ç–∞–∫–∏–º –ø–æ–≤–æ—Ä–æ—Ç–æ–º –µ—â—ë –Ω–µ –Ω–∞–ø–∏—Å–∞–Ω. –ò —Å–ª–∞–≤–∞ –±–æ–≥—É.',
        ]),
    )


class Option:
    def __init__(self):
        self._title = None  # Enter to the Option
        self._text = None  # Option story
        self._back = None
        self._special_answer = None
        self._options: list = list()
        self._raise_option = None
        self._is_make_deepcopy = False  # After selecting this option
        self._player_handler = None

    def __eq__(self, other):
        return self._title == other._title and self._text == other._text

    def is_deepcopy_needed(self):
        return self._is_make_deepcopy

    def set_options(self, options=None):
        self._options = options or list()
        if self._back:
            self._options.append(self._back)
        return self

    def __str__(self):
        return self._title

    def show(self):
        import os
        os.system('cls' if os.name == 'nt' else 'clear')
        print(self._text)
        print(*(f'{i + 1}. {opt}' for i, opt in enumerate(self._options)), sep='\n')

    def try_interpret_as_integer(self, entered: str):
        try:
            entered = int(entered)
            if not (1 <= entered <= len(self._options)):
                raise ValueError
            return entered
        except ValueError:
            if not self._special_answer:
                return RegularOption(
                    title='–ü–æ–¥—Å–∫–∞–∑–∫–∞ –≤–≤–æ–¥–∞',
                    text=f'–í–≤–µ–¥–∏ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ {len(self._options)}!'
                )

    def handle_input(self):
        while True:
            entered = input("–¢–≤–æ–π –æ—Ç–≤–µ—Ç: ")
            result = self.try_interpret_as_integer(entered)

            if isinstance(result, Option):
                return result

            if isinstance(result, int):
                opt = self._options[result - 1]
                return opt if isinstance(opt, str) or not opt.is_deepcopy_needed() else deepcopy(opt)
            elif entered.lower() == self._special_answer.lower():
                opt = self._raise_option
                return opt if isinstance(opt, str) or not opt.is_deepcopy_needed() else deepcopy(opt)
            else:
                return gen_random_mistake()

    def handle_player(self, player: dict):
        if self._player_handler:
            self._player_handler(player)


class RegularOption(Option):
    def __init__(self,
                 title: str,
                 text: str,
                 options=None,
                 special_answer=None,
                 raise_option=None,
                 back: Union[None, str, Option] = 'Default',
                 player_handler=None):
        super().__init__()
        self._title = title
        self._text = text
        self._back = None if not back else (
            BackRequest() if isinstance(back, str) else back
        )
        self._special_answer = special_answer
        self._raise_option = raise_option
        self.set_options(options)
        self._player_handler = player_handler


class NextStage(RegularOption):
    pass


class DropStage(RegularOption):
    @staticmethod
    def get_random_dead_msg():
        random.seed()
        return random.choice([
            '–û–∫',
            'My bad',
            '–ù–µ—á–µ—Å—Ç–Ω–æ!',
            '–ö–∞–∫–æ–π –∫–æ—à–º–∞—Ä...',
            '–ö–∞–∫–æ–≥–æ?!',
            '–ù—É –ø–∞—Ç–∏–º—É—É—É—É—É???',
            '–Ñ—Ö...',
            '–ï–©–ï –ü–û–ü–¨–Ü–¢–ö–ê!',
            '–û—Ç –∂–µ–∂ –∫–∞–±–∞–ª–∞!',
            '–ß—Ç–æ–± —Ç–µ–±—è!',
            '–ù—É, –õ–µ—à–∞, –ø–æ–≥–æ–¥–∏!',
            '–õ–æ–ª—à—Ç–æ?',
            '–ê–±—Ä–∞–∫–∞–¥–∞–±—Ä–∞ –º–∞—Ç—å –≤–∞—à—É!',
            '–ô–∞–º–µ—Ç–µ –∫—É–¥–∞—Å–∞–∏–∏–∏–∏–∏–∏–∏–∏!',
            '–ó–∞–Ω–æ–≤–æ, —Ç–∞–∫ –∑–∞–Ω–æ–≤–æ.',
            '–ù—É –≤–æ—Ç –æ–ø—è—Ç—å!',
            '–ù—É —á—Ç–æ –∂...',
            '–ê –≤–µ–¥—å –º–æ–≥–ª–æ –±—ã—Ç—å –∏ —Ö—É–∂–µ...',
            '–ù—É, –±—ã–≤–∞–µ—Ç...',
            '–î–∞ —á—Ç–æ–± —Ç–µ–±—è!',
            '–≠—Ç–æ –∑–∞–∫–æ–Ω–Ω–æ –≤–æ–æ–±—â–µ?',
            '–°–µ—Ä—å–µ–∑–Ω–æ?!',
            '–û–ø—è—Ç—å –¥–≤–∞–¥—Ü–∞—Ç—å –ø—è—Ç—å!',
            '–ù—É –∏ –¥–µ–ª–∞...',
            '–¢–∞–∫ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è!',
            '–ö–∞–∫ –∂–µ —Ç–∞–∫-—Ç–æ?!',
            '–≠—Ç–æ –≤—Å–µ –∑–∞–≥–æ–≤–æ—Ä!',
            '–î–∞ —á—Ç–æ –∂ —Ç—ã –±—É–¥–µ—à—å –¥–µ–ª–∞—Ç—å!',
            '–ù—É –∏ –Ω—É...',
            '–õ–∞–¥–Ω–æ, –Ω–µ –≤ —ç—Ç–æ—Ç —Ä–∞–∑...',
            '–ê–π, –Ω—É –ø–æ—á–µ–º—É —è?!',
            '–ù—É –≤—Å–µ, –¥–µ—Ä–∂–∏—Ç–µ—Å—å!',
            '–ë—ã–ª–æ –≤–µ—Å–µ–ª–æ... –Ω–µ–¥–æ–ª–≥–æ.',
            '–í–æ—Ç —ç—Ç–æ –ø–æ–≤–æ—Ä–æ—Ç!',
            '–ù—É, –Ω–∞—á–Ω–µ–º —Å–Ω–∞—á–∞–ª–∞!'
        ])

    def __init__(self, title=None):
        super().__init__(title or DropStage.get_random_dead_msg(),
                         '–≠—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–æ–∫–∞, –∫–∞–∫ —Ç—ã –µ—ë —É–≤–∏–¥–µ–ª–∞?!')

    def __str__(self):
        return DropStage.get_random_dead_msg()


class BackRequest(RegularOption):
    def __init__(self):
        super().__init__('–ù–∞–∑–∞–¥', '', back=None)


class Engine:
    def __init__(self):
        self.history_stack = list()
        self.player_stat = dict()

    def run(self, start_option: Option):
        self.history_stack.append(start_option)

        while True:
            self.history_stack[-1].handle_player(self.player_stat)
            self.history_stack[-1].show()
            try:
                new_state = self.history_stack[-1].handle_input()

                if new_state is None:
                    continue

                if isinstance(new_state, NextStage):
                    self.history_stack = [new_state]
                elif isinstance(new_state, DropStage):
                    self.history_stack = self.history_stack[:1]
                elif isinstance(new_state, BackRequest):
                    self.history_stack.pop()
                elif isinstance(new_state, Option) and new_state != self.history_stack[-1]:
                    self.history_stack.append(new_state)
                elif isinstance(new_state, str):
                    self.history_stack.append(gen_random_mistake())

            except Exception as e:
                print(f'–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫... –û—Ç–∫–∞—Ç, –æ—Ç–∫–∞—Ç! {e}')


def getLocation0():
    wait_morning = RegularOption(
        title='–°–ø–∞—Ç—å –¥–æ —Ä–∞—Å—Å–≤–µ—Ç–∞',
        text='–í–Ω–µ–∑–∞–ø–Ω–æ –ø—Ä–æ–±—É–¥–∏–≤—à–∏—Å—å, —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ –æ–∫–∞–∑–∞–ª–∞—Å—å –ø–æ–¥ –≤–æ–¥–æ–π. '
             '–ò –±–µ–∑ –∫–∏—Å–ª–æ—Ä–æ–¥–∞ —Ç—ã –±—ã—Å—Ç—Ä–æ —É–º–∏—Ä–∞–µ—à—å. ',
        back=DropStage()
    )

    force_wake_up = RegularOption(
        title='–ü—Ä–æ—Å–Ω—É—Ç—å—Å—è',
        text='–ù–æ—á—å. –ß–∞—Å—Ç—å—é —Å–æ–Ω–Ω–æ–≥–æ —Å–æ–∑–Ω–∞–Ω–∏—è —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫...',
        special_answer='–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–∞–Ω –ú–∞–µ–≤—Å–∫–æ–≥–æ',  # TODO: –ó–∞–ø–∏—Å–∫–∞ —Å–¥–µ–ª–∞–Ω–∞
        options=[
            wait_morning
        ],
        back=None,
        raise_option=getLocation1()
    )

    start = RegularOption(
        title='0. –ù–∞—á–∞–ª–æ',
        text=f'–¢–µ–±–µ —á—Ç–æ-—Ç–æ —Å–Ω–∏—Ç—Å—è... –ß—Ç–æ-—Ç–æ –º–æ–∫—Ä–æ–µ –∏ –≥–æ—Ä—è—á–µ–µ...\n'
             f'–í —Ç–≤–æ–µ–π –≥–æ–ª–æ–≤–µ –≤—Å–ø–ª—ã–≤–∞—é—Ç —Å–ª–æ–≤–∞: {decode(encoded[0])}'
             f'\r–ß—Ç–æ –±—ã –æ–Ω–∏ –º–æ–≥–ª–∏ –∑–Ω–∞—á–∏—Ç—å?..',
        back=None,
        options=[
            force_wake_up,
            wait_morning
        ]
    )

    return start


class ShortsOption(RegularOption):
    def __init__(self, title, text):
        super().__init__(title, text, options=[self])
        self.watch_counter = 1
        self.text_template = text
        self.end_text_template = ('–ü—Ä–æ—à—ë–ª –≤–µ—Å—å –¥–µ–Ω—å, –∞ —Ç—ã —Ç–∞–∫ –∏ –Ω–µ –ø–æ–µ–ª–∞, –∑–∞–ª–∏–ø–∞—è –≤ —à–æ—Ä—Ç—Å–∞—Ö.\n'
                                  '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å–µ–≥–æ–¥–Ω—è –±—ã–ª –Ω–µ —Ç–æ—Ç –¥–µ–Ω—å,\n'
                                  '–∫–æ–≥–¥–∞ —Ç–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–º –º–æ–≥ –ø–æ–ø—É—Å—Ç–∏—Ç–µ–ª—å—Å–∫–∏ –æ—Ç–Ω–µ—Å—Ç–∏—Å—å –∫ –≥–æ–ª–æ–¥–æ–≤–∫–µ.\n'
                                  '–¢—ã —É–º–µ—Ä–ª–∞.')
        self._is_make_deepcopy = True

    def handle_player(self, player):
        if self.watch_counter > 1:
            self._is_make_deepcopy = False

        if 0 <= self.watch_counter <= 10:
            self._text = self.text_template.format(ShortsOption.gen_shorts_description())
        if self.watch_counter == 5:
            self._back = None
            self.set_options([self])
        if self.watch_counter == 11:
            self._text = self.end_text_template
            self._back = DropStage(
                '–£–º–µ—Ä–µ—Ç—å –æ—Ç –≥–æ–ª–æ–¥–∞'
            )
            self.set_options()

    def show(self):
        super().show()
        self.watch_counter += 1

    @staticmethod
    def gen_shorts_description():
        return random.choice([
            '–ó–∞–±–∞–≤–Ω—ã–π –∫–æ—Ç–∏–∫ –ø—å—ë—Ç –≤–æ–¥—É',
            '–ó–ª–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª –æ–±–æ–∑—Ä–µ–≤–∞–µ—Ç –ø–ª–æ—Ö–æ–π —Ä–µ–º–æ–Ω—Ç —á—å–µ–≥–æ-—Ç–æ –¥–æ–º–∞',
            '–ü–∞—Ä–µ–Ω—å —Å–¥–µ–ª–∞–ª –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫—Ä—ã—à–µ –Ω–µ–±–æ—Å–∫—Ä—ë–±–∞',
            '–î–µ–≤—É—à–∫–∞ –¥–µ–ª–∞–µ—Ç –º–∞–∫–∏—è–∂ —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –≥–ª–∞–∑–∞–º–∏',
            '–ü–æ–≤–∞—Ä –≥–æ—Ç–æ–≤–∏—Ç —É–∂–∏–Ω –≤—Å–ª–µ–ø—É—é ‚Äî –∏ —ç—Ç–æ —à–µ–¥–µ–≤—Ä',
            '–†–µ–∞–∫—Ü–∏—è –æ—Ç—Ü–∞ –Ω–∞ –ø–µ—Ä–≤—ã–π —à–∞–≥ —Ä–µ–±—ë–Ω–∫–∞',
            '–¢—Ä—é–∫–∏ —Å –±—É—Ç—ã–ª–∫–∞–º–∏ ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å!',
            '–ö–∞–∫ –∑–≤—É—á–∞—Ç —è–∑—ã–∫–∏ –º–∏—Ä–∞, –µ—Å–ª–∏ —á–∏—Ç–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–ª–æ–≤–æ',
            '–†–µ–∞–∫—Ü–∏—è —É—á–∏—Ç–µ–ª—è –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫ –æ—Ç –∫–ª–∞—Å—Å–∞',
            '–ì–µ–π–º–µ—Ä –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–µ–∫—É–Ω–¥–∞—Ö ‚Äî –±–æ–ª—å–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å',
            '–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç—ã –¥–æ –∏ –ø–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞',
            '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é –ø–æ –æ–¥–Ω–æ–π –Ω–æ—Ç–µ ‚Äî —á–µ–ª–ª–µ–Ω–¥–∂',
            '–ö–∞–∫ —Ä–∏—Å–æ–≤–∞—Ç—å –∞–Ω–∏–º–µ-–≥–ª–∞–∑ –∑–∞ 30 —Å–µ–∫—É–Ω–¥',
            '–°–æ–±–∞–∫–∞ –Ω–∞—É—á–∏–ª–∞—Å—å –≥–æ–≤–æ—Ä–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–æ–∫',
            '–î–µ–≤—É—à–∫–∞ –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–æ–±—É–µ—Ç –æ—Å—Ç—Ä—ã–µ –∫–æ—Ä–µ–π—Å–∫–∏–µ –ª–∞–ø—à–∏',
            '–ü–∞—Ä–µ–Ω—å –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ã—á–Ω—É—é –¥–æ—Å–∫—É –≤ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞',
            '–ù–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–π –ª–∞–π—Ñ—Ö–∞–∫ —Å —Ñ–æ–ª—å–≥–æ–π, –æ –∫–æ—Ç–æ—Ä–æ–º —Ç—ã –Ω–µ –∑–Ω–∞–ª',
            '–ö–æ—à–∫–∞ –∑–ª–∏—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–π –Ω–µ –¥–∞–ª–∏ –ø–∏—Ü—Ü—É',
            '–ü–∞—Ä–µ–Ω—å –∏–≥—Ä–∞–µ—Ç 20 —Ä–æ–ª–µ–π –≤ –æ–¥–Ω–æ–º –≤–∏–¥–µ–æ',
            '–î–µ—Ç—Å–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –ª–∏–º–æ–Ω ‚Äî —É–º–æ—Ä–∞!',
            '–ù–∞—Ä–∏—Å–æ–≤–∞–ª –ú–æ–Ω—É –õ–∏–∑—É‚Ä¶ –≤ Minecraft!',
            '–ö–∞–∫ –≤—ã–≥–ª—è–¥–µ–ª –±—ã –ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä, –µ—Å–ª–∏ –±—ã –µ–≥–æ —Å–Ω–∏–º–∞–ª–∏ –≤ 2025 –≥–æ–¥—É',
            '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —Å—Ç–∞—Ä—ã–π –∞–π—Ñ–æ–Ω, –Ω–∞–π–¥–µ–Ω–Ω—ã–π –≤ —Ä–µ–∫–µ',
            '–ü–∞—Ä–µ–Ω—å –≤–æ—Å—Å–æ–∑–¥–∞—ë—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ñ–∏–ª—å–º—ã –¥–æ–º–∞',
            '–†–µ–∞–∫—Ü–∏—è –º–∞–º—ã –Ω–∞ –ø–µ—Ä–≤—ã–π –∫–ª–∏–ø —Å—ã–Ω–∞',
            '–°–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ iPhone, –æ –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã –Ω–µ –∑–Ω–∞–ª',
            '–î–µ–≤—É—à–∫–∞ –ø—Ä–æ–±—É–µ—Ç –µ–¥—É –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω ‚Äî –≤—ã–ø—É—Å–∫ 1',
            '–ö–∞–∫ –∑–≤—É—á–∏—Ç –≥–æ–ª–æ—Å –ø–æ–¥ –≤–æ–¥–æ–π ‚Äî —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ!',
            '–¢–∞–Ω–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ö–≤–∞—Ç–∏–ª –≤–µ—Å—å TikTok',
            '–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –µ–¥—ã –∏–∑ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –∏ –¥–æ–º–∞ ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ —à–æ–∫–∏—Ä—É–µ—Ç',
            '–†–µ–∞–∫—Ü–∏—è –∫–æ—Ç–∞ –Ω–∞ –Ω–æ–≤—ã–π –∞–∫–≤–∞—Ä–∏—É–º',
            '–ü–∞—Ä–µ–Ω—å –¥–µ–ª–∞–µ—Ç –∫–æ—Å—Ç—é–º –ñ–µ–ª–µ–∑–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏',
            '–ö–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å—É—à–∏ –∑–∞ 30 —Å–µ–∫—É–Ω–¥ ‚Äî –º–∞–≥–∏—è!',
            '–î–µ–≤–æ—á–∫–∞ –ø–æ—ë—Ç, –∫–∞–∫ –≤–∑—Ä–æ—Å–ª–∞—è ‚Äî –º—É—Ä–∞—à–∫–∏!',
            '–ü–∞—Ä–µ–Ω—å –∏–≥—Ä–∞–µ—Ç –Ω–∞ –ø–∏–∞–Ω–∏–Ω–æ, –Ω–æ... –∫–ª–∞–≤–∏—à –Ω–µ—Ç!',
            '–ò—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏ –≤ –æ–¥–Ω–æ–º —à–æ—Ä—Ç–µ',
            '–°–∞–º–∞—è –Ω–µ–ª–æ–≤–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–∏',
            '–°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç –±–∞–±—É—à–∫–∏ —Ä–∞—Å–∫—Ä—ã—Ç!',
            '–ü–∞—Ä–µ–Ω—å —Å—Ç–∞–ª –Ω–µ–≤–∏–¥–∏–º—ã–º (–∏–ª–∏ –ø–æ—á—Ç–∏)',
            '–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –Ω–µ —Å–ø–∞—Ç—å 48 —á–∞—Å–æ–≤?',
            '–ú–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –æ–Ω –ø–æ–Ω—è–ª, —á—Ç–æ –≤–ª—é–±–∏–ª—Å—è',
            '–ö–∞–∫ –≤—ã–≥–ª—è–¥–µ–ª –±—ã Instagram –≤ 90-—Ö',
            '–†–µ–∞–ª—å–Ω—ã–µ –∑–≤—É–∫–∏ –∫–æ—Å–º–æ—Å–∞ ‚Äî —Å—Ç—Ä–∞—à–Ω–æ –∏ –∫—Ä–∞—Å–∏–≤–æ',
            '–ß—Ç–æ –µ—Å–ª–∏ –±—ã –ª—é–¥–∏ –±—ã–ª–∏ –∫–∞–∫ —Å–∏–º—Å—ã?',
            '–î–µ–≤–æ—á–∫–∞ —Å—Ç–∞–Ω—Ü–µ–≤–∞–ª–∞ –ª—É—á—à–µ –≤—Å–µ—Ö –≤–∑—Ä–æ—Å–ª—ã—Ö',
            '–°–æ–±–∞–∫–∞ —Å–ø–∞—Å–ª–∞ —Ö–æ–∑—è–∏–Ω–∞ ‚Äî –≤—Å—ë –Ω–∞ –≤–∏–¥–µ–æ!',
            '–¢—Ä—é–∫ —Å –∫–∞—Ä—Ç–æ–π, –∫–æ—Ç–æ—Ä—ã–π –æ–±–º–∞–Ω–µ—Ç —Ç–≤–æ–π –º–æ–∑–≥',
            '–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –º–µ—á –∏–∑ –±—É–º–∞–≥–∏ ‚Äî –∫—Ä—É—Ç–æ –∏ –ø—Ä–æ—Å—Ç–æ',
            '–ü–∞—Ä–µ–Ω—å –ø–æ—Ç–µ—Ä—è–ª –≥–æ–ª–æ—Å, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—ë—Ç',
            '–û—Ç–µ—Ü –¥–µ–ª–∞–µ—Ç –∑–∞–≤—Ç—Ä–∞–∫ –ø–æ–¥ –º—É–∑—ã–∫—É –ë–∞—Ö–∞',
            '–ö–æ—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ ‚Äî —ç—Ç–æ –Ω–∞–¥–æ –≤–∏–¥–µ—Ç—å',
            '–ö–æ—Ç —É–≤–∏–¥–µ–ª —Å–µ–±—è –≤ –∑–µ—Ä–∫–∞–ª–µ –∏ –∏—Å–ø—É–≥–∞–ª—Å—è',
            '–ú–∞–ª—å—á–∏–∫ –∏—Å–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä—é–∫ –Ω–∞ —Å–∫–µ–π—Ç–±–æ—Ä–¥–µ –≤–ø–µ—Ä–≤—ã–µ',
            '–ö–∞–∫ –∑–≤—É—á–∏—Ç –∞–π—Å–±–µ—Ä–≥, –∫–æ–≥–¥–∞ –æ–Ω —Ç—Ä–µ—Å–∫–∞–µ—Ç—Å—è ‚Äî –¥–∏–∫–æ!',
            '–°–ª–µ–ø–æ–π —Ç–µ—Å—Ç: –≥–∞–∑–∏—Ä–æ–≤–∫–∞ –∏–ª–∏ –≤–æ–¥–∞?',
            '–î–µ–≤—É—à–∫–∞ –ø—Ä–æ—à–ª–∞ 10 –∫–º –≤ —Ç—É—Ñ–ª—è—Ö ‚Äî –≤–æ—Ç —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å',
            '–ü–∞—Ä–µ–Ω—å –ø—ã—Ç–∞–ª—Å—è –±—ã—Ç—å –≤–µ–≥–∞–Ω–æ–º –Ω–µ–¥–µ–ª—é ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç',
            '–ü—ë—Å —É—á–∏—Ç —Ä–µ–±—ë–Ω–∫–∞ —Ö–æ–¥–∏—Ç—å',
            '–†–∞–∑–≥–æ–≤–æ—Ä –¥–≤—É—Ö –ø–æ–ø—É–≥–∞–µ–≤ ‚Äî –∫–∞–∫ –±—É–¥—Ç–æ –ª—é–¥–∏!',
            '–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å Mentos –≤ —Å–æ–∫',
            '–ü—Ä–µ–≤—Ä–∞—Ç–∏–ª —Å—Ç–∞—Ä—É—é –∫—É—Ä—Ç–∫—É –≤ –º–æ–¥–Ω—ã–π –∂–∏–ª–µ—Ç',
            '–ü—Ä–æ–≤—ë–ª –¥–µ–Ω—å –∫–∞–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂ GTA',
            '–ü–æ–ø—Ä–æ–±–æ–≤–∞–ª —Å–∞–º—ã–µ –æ—Å—Ç—Ä—ã–µ —á–∏–ø—Å—ã –º–∏—Ä–∞',
            '–û–±—Ä–∞—Ç–Ω–∞—è —Å—ä—ë–º–∫–∞ –≥–æ—Ç–æ–≤–∫–∏ ‚Äî –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –º–∞–≥–∏—è',
            '–¢–∞–Ω—Ü—É–µ—Ç –Ω–∞ –∫—Ä—ã—à–µ –º–∞—à–∏–Ω—ã ‚Äî –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å –Ω–µ —Ç–∞–∫, –∫–∞–∫ –¥—É–º–∞–ª',
            '–ú–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —É—á–∏—Ç–µ–ª—å –ø–æ–Ω—è–ª, —á—Ç–æ –æ—à–∏–±—Å—è',
            '–ö—Ç–æ –ª—É—á—à–µ –ø–æ—ë—Ç ‚Äî —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –∫–æ—Ç?',
            '–ü–∞—Ä–µ–Ω—å –æ—Ç–∫—Ä—ã–ª –±–∞–Ω–∫—É –æ–¥–Ω–∏–º –ø–∞–ª—å—Ü–µ–º',
            '–ü—Ä–æ–±—É—é –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –º–µ–Ω—é –∑–∞ 1000 —Ä—É–±–ª–µ–π',
            '–ö–∞–∫ –∑–≤—É—á–∏—Ç —Ç–≤–æ–π –≥–æ–ª–æ—Å –ø–æ–¥ –≥–µ–ª–∏–µ–º –∏ –ø–æ–¥ –≥—Ä—É—à–µ–π',
            '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é –ø–æ —ç–º–æ–¥–∑–∏ ‚Äî —á–µ–ª–ª–µ–Ω–¥–∂ —Å –¥—Ä—É–≥–æ–º',
            '–°–∫–æ–ª—å–∫–æ –ø–µ–ª—å–º–µ–Ω–µ–π –º–æ–∂–Ω–æ —Å—ä–µ—Å—Ç—å –∑–∞ –º–∏–Ω—É—Ç—É?',
            '–¢—Ä—é–∫ —Å –∫–∞—Ä—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π –≤–∑–æ—Ä–≤—ë—Ç –º–æ–∑–≥',
            '–ö–æ—Ç –≤–ø–µ—Ä–≤—ã–µ —É–≤–∏–¥–µ–ª –æ–≥—É—Ä–µ—Ü',
            '–°–æ–±–∞–∫–∞ –¥–µ–ª–∞–µ—Ç –º–∞—Å—Å–∞–∂ —Å–≤–æ–µ–º—É —Ö–æ–∑—è–∏–Ω—É',
            '–ù–∞—Ä–∏—Å–æ–≤–∞–ª –î–∂–æ–∫–µ—Ä–∞ –∑—É–±–Ω–æ–π –ø–∞—Å—Ç–æ–π',
            '–ü–∞—Ä–µ–Ω—å –∏–≥—Ä–∞–µ—Ç –±–∏—Ç –Ω–∞ –ª–æ–∂–∫–∞—Ö ‚Äî –∫—Ä—É—Ç–æ –∑–≤—É—á–∏—Ç',
            '–®–∫–æ–ª—å–Ω–∏–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å, –∏ —É—á–∏—Ç–µ–ª—å –≤ —à–æ–∫–µ',
            '–ö–∞–∫ –≤—ã–≥–ª—è–¥–µ–ª –±—ã Apple –≤ 80-—Ö',
            '–ü—Ä–æ–±—É—é –∂–∏—Ç—å –∫–∞–∫ –ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä 1 –¥–µ–Ω—å',
            '–°–Ω—è–ª –∫–∏–Ω–æ –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω –∑–∞ 0 —Ä—É–±–ª–µ–π',
            '–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–ª–∞–π–º –∏–∑ 3 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤',
            '–ü–∞—Ä–µ–Ω—å –¥–µ–ª–∞–µ—Ç —Å–∞—É–Ω–¥—Ç—Ä–µ–∫ –∏–∑ –∑–≤—É–∫–æ–≤ –∫—É—Ö–Ω–∏',
            '–†–∞–∑–æ–±—Ä–∞–ª—Å—è —Å –Ω–∞–ª–æ–≥–∞–º–∏ –∑–∞ 30 —Å–µ–∫—É–Ω–¥ (–ø–æ—á—Ç–∏)',
            '–ö–æ—Ç –ø—Ä–∏–Ω—ë—Å —Ç–∞–ø–∫–∏ ‚Äî –Ω–æ —ç—Ç–æ –Ω–µ —Ç–≤–æ–∏',
            '–ß—Ç–æ –≤ –∫–æ—Ä–æ–±–∫–µ? –†–µ–∞–∫—Ü–∏—è –¥–µ–≤–æ—á–∫–∏ –±–µ—Å—Ü–µ–Ω–Ω–∞',
            '–î–µ–≤–æ—á–∫–∞ –ø–æ—ë—Ç –Ω–∞ —É–ª–∏—Ü–µ ‚Äî –ø—Ä–æ—Ö–æ–∂–∏–µ –∑–∞–º–∏—Ä–∞—é—Ç',
            '–ò–∑ –∫–∞—Ä—Ç–æ—à–∫–∏ —Å–¥–µ–ª–∞–ª... —Å–ø–∏–Ω–Ω–µ—Ä',
            '–°–∞–º–∞—è —Å—Ç—Ä–∞–Ω–Ω–∞—è –µ–¥–∞ –∏–∑ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–∞',
            '–ú–∞–ª–µ–Ω—å–∫–∏–π —Ä–µ–±—ë–Ω–æ–∫ –æ–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –∫–æ—Å–º–æ—Å',
            '–ü–æ–ø—Ä–æ–±–æ–≤–∞–ª –≥–æ–≤–æ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ ‚Äú–º—è—É‚Äù –≤–µ—Å—å –¥–µ–Ω—å',
            '–ö–æ—à–∫–∞ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –≤–∏–¥–µ–æ —Å —Ç–∏–≥—Ä–æ–º',
            '–°–Ω—è–ª–∏ –∫–ª–∏–ø –∑–∞ –æ–¥–∏–Ω –¥—É–±–ª—å –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫–µ',
            '–°–¥–µ–ª–∞–ª –≥–∏–≥–∞–Ω—Ç—Å–∫—É—é –∫–æ–Ω—Ñ–µ—Ç—É —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏',
            '–ß—Ç–æ –µ—Å–ª–∏ –Ω–µ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ —ç–∫—Ä–∞–Ω –≤–µ—Å—å –¥–µ–Ω—å?',
            '–†–µ–∞–∫—Ü–∏—è –±–∞–±—É—à–∫–∏ –Ω–∞ –ø–µ—Ä–≤—ã–π VR-—à–ª–µ–º',
            '–ì–æ–≤–æ—Ä—è—â–∏–π –ø–æ–ø—É–≥–∞–π —Ä—É–≥–∞–µ—Ç—Å—è –∫–∞–∫ –ø–∏—Ä–∞—Ç',
            '–¢–∞–Ω–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞—é—Ç –≤—Å–µ –≤ 2025',
            '–î–µ–≤–æ—á–∫–∞ –æ–±—ä—è—Å–Ω—è–µ—Ç —ç–∫–æ–Ω–æ–º–∏–∫—É ‚Äî –∏ –≤—Å—ë —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–æ',
            '–ö–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –∑–≤—É–∫–∏ –Ω–∞ –ø–µ—Å–∫–µ ‚Äî –≥–∏–ø–Ω–æ—Ç–∏–∑–∏—Ä—É–µ—Ç',
            '–≠—Ç–æ—Ç –∫–æ—Ç —Ç–æ—á–Ω–æ –±—ã–ª —á–µ–ª–æ–≤–µ–∫–æ–º –≤ –ø—Ä–æ—à–ª–æ–π –∂–∏–∑–Ω–∏',
        ])


def getLocation1():
    stuck_in_shorts = ShortsOption(
        title='–°–≤–∞–π–ø–Ω—É—Ç—å –∏ –∑–∞–ª–∏–ø–∞—Ç—å –¥–∞–ª—å—à–µ',
        text='–ù–∞ —Ç–≤–æ—ë–º —ç–∫—Ä–∞–Ω–µ –≤–∏–¥–µ–æ: "{}"'
    )

    enter_random_password = RegularOption(
        title='–í–≤–µ—Å—Ç–∏ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –ø–∞—Ä–æ–ª—å',
        text='–û—à–∏–±–∫–∞! –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å!'
    )

    morning_routine = RegularOption(
        title='–ü—Ä–∏–≤–µ—Å—Ç–∏ —Å–µ–±—è –≤ –ø–æ—Ä—è–¥–æ–∫ –∏ –ø–æ–µ—Å—Ç—å',
        text='–¢—ã –±–æ–¥—Ä–æ –Ω–∞–ø—Ä–∞–≤–∏–ª–∞—Å—å –≤ –≤–∞–Ω–Ω—É—é –∏ —Å–¥–µ–ª–∞–ª–∞ –≤—Å–µ —Å–≤–æ–∏ –¥–µ–ª–∞.\n'
             '–ü—Ä–∏—Å—Ç—É–ø–∏–ª–∞ –∫ –µ–¥–µ. –í —ç—Ç–æ –≤—Ä–µ–º—è —Ç–µ–ª–µ—Ñ–æ–Ω —Ç–≤–æ–µ–≥–æ –ø–∞—Ä–Ω—è –∑–∞–ø–µ–ª:'
             + decode(encoded[2]) +
             '\r–ß—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–¥—Å–∫–∏–π –∑–≤—É–∫,\n'
             '—Ç–µ–±–µ –Ω—É–∂–Ω–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–∫–æ—Ç–æ—Ä—ã–π –æ–Ω –Ω–µ–¥–∞–≤–Ω–æ —Å–º–µ–Ω–∏–ª).\n'
             '–ö–∞–∫–æ–π –∂–µ —Ç–µ–ø–µ—Ä—å –æ–Ω —É –Ω–µ–≥–æ?',
        options=[
            enter_random_password
        ],
        back=None,
        special_answer='–° –Ω–æ–≤—ã–º –≥–æ–¥–æ–º!',  # TODO: –ó–∞–ø–∏—Å–∫–∞ —Å–¥–µ–ª–∞–Ω–∞!
        raise_option=getLocation2()
    )

    view_shorts = RegularOption(
        title='–°–º–æ—Ç—Ä–µ—Ç—å —à–æ—Ä—Ç—Å—ã',
        text='–ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π –æ—Ç–∫—Ä—ã—Ç —Ç–∏–∫—Ç–æ–∫/–∏–Ω—Å—Ç–∞/—é—Ç—É–±/–ª–∏–Ω–∫–µ–¥—ã–Ω/—á–∏–º—á–µ–Ω—ã–Ω. –ß—Ç–æ –¥–µ–ª–∞–µ–º?',
        options=[
            stuck_in_shorts
        ]
    )

    start = NextStage(
        title='1. –£—Ç—Ä–æ –Ω–∞—Å—Ç–∞–ª–æ –∏ –õ—ë—à–∞ –∑–∞–¥–æ–ª–±–∞–ª!',
        text='–ù–∞—Å—Ç–∞–ª–æ —Å–ª–∞–≤–Ω–æ–µ –ª—É—á–µ–∑–∞—Ä–Ω–æ–µ —É—Ç—Ä–æ!\n'
             '–¢—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–ª–∞ –ø–æ—Ç–æ–ø —ç—Ç–æ–π –Ω–æ—á—å—é –∏ –ø–æ—Ä–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å!\n'
             '–ß—Ç–æ —Å–∫–∞–∂–µ—à—å?',
        back=None,
        options=[
            view_shorts,
            morning_routine
        ]
    )

    return start


def getLocation2():
    talk_with_friend = RegularOption(
        title='–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –ø–æ–¥—Ä—É–≥–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤',
        text='–ü—É-–ø—É-–ø—É. –ì–æ–≤–æ—Ä–∏—à—å —Å –ø–æ–¥—Ä—É–≥–æ–π. –ü—É-–ø—É-–ø—É.',
    )

    love_rosa = RegularOption(
        title='–ü—Ä–∏–ª–∞—Å–∫–∞—Ç—å –†–æ–∑—É',
        text='–í—ã–±—Ä–∞–ª–∞ –±–ª–∏–∑–∫–æ–≥–æ, –∞ –Ω–µ –¥–∞–ª—ë–∫–æ–≥–æ. –ö–∞–∫ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ! –ù–∏–∞–∞–∞–∞—Ö!\n'
             '–ù–æ –†–æ–∑—ã –Ω–∏–≥–¥–µ –Ω–µ—Ç. –ß—Ç–æ –∂–µ —ç—Ç–æ —Ç–∞–∫–æ–µ?\n'
             '–í–¥—Ä—É–≥ –æ—Ç –Ω–µ–µ —Ç—ã —Å–ª—ã—à–∏—à—å: '
             + decode(encoded[4]) + '\r' +
             '–¢–∞–∫ –≥–¥–µ –∂ –æ–Ω–∞?',
        back=None,
        special_answer='–ù–∞ –≤–µ—Ä—à–∏–Ω–µ –±—ã—Ç–∏—è!',  # TODO: –ó–∞–ø–∏—Å–∫–∞ —Å–¥–µ–ª–∞–Ω–∞
        raise_option=getLocation3()
    )

    start = NextStage(
        title='2. –ü–æ—Ä–∞ –∏—Å–∫–∞—Ç—å —Ä–æ–∑—É',
        text='–°–ø—Ä–∞–≤–∏–≤—à–∏—Å—å –∑ –ø–æ—Ä–æ–∂–¥–µ–Ω–∏–µ–º –∞–¥–∞, –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π –≤—Å—Ç–∞–ª –≤—ã–±–æ—Ä:',
        options=[
            talk_with_friend,
            love_rosa
        ],
        back=None
    )

    return start


class DetectiveOption(RegularOption):
    def __init__(self, title, text):
        super().__init__(title, text)
        self._is_make_deepcopy = True

        self.text_template = text
        self.cur_stage = 0
        self.text_stages = [
            '–°–µ–π—á–∞—Å —è –∫ –Ω–µ–º—É –¥–æ–∫–æ–ø–∞—é—Å—å!',

            '–•–æ—Ç—å —è –∫ –Ω–µ–º—É –∏ –¥–æ–∫–æ–ø–∞–ª–∞—Å—å, –æ–¥–Ω–∞–∫–æ –ø—Ä–∞–≤–¥—ã –Ω–µ —É–∑–Ω–∞–ª–∞.\n'
            '–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ!',

            '–ù–∞–≤–µ—Ä–Ω–æ–µ, –æ–Ω –∑–∞–º–µ—Ç–∞–ª —Å–ª–µ–¥—ã —Å–≤–æ–∏—Ö –≥—Ä—è–∑–Ω—ã—Ö –¥–µ–ª–∏—à–µ–∫ —Å –†–æ–∑–æ–π... \n'
            '–ù–æ –∫—É–¥–∞?'
        ]
        self.options_stages = [
            [self.get_call_the_enemy()],

            self.get_stage1_options(),

            [
                '–ü–æ–¥ –æ–¥–µ—è–ª–æ',
                '–ü–æ–¥ –Ω–æ–≥—Ç–∏',
                '–ü–æ–¥ –ø–ª–∏–Ω—Ç—É—Å',
                '–ü–æ–¥ –º–µ—à–∫–∏ –ø–æ–¥ –≥–ª–∞–∑–∞–º–∏',
                '–ü–æ–¥ —Å–≤–æ—é —à–µ–≤–µ–ª—é—Ä—É',
                '???'
            ]
        ]

    def get_call_the_enemy(self):
        return RegularOption(
            title='–ü–æ–∑–≤–∞—Ç—å –≤—Ä–∞–≥–∞',
            text='–≠–π, –≤—Ä–∞–≥ –†–æ–∑—ã! –¢—ã –∑–∞—á–µ–º –µ—ë –Ω–∞ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –æ—Ç–Ω—ë—Å? - –°–ø—Ä–∞—à–∏–≤–∞–µ—à—å —Ç—ã,\n'
                 '–ê –≤ –æ—Ç–≤–µ—Ç —Å–ª—ã—à–∏—à—å:',
            options=[
                '–´–≥—ã :)',
                '–û–Ω–∞ —Å–∞–º–∞ —Ç—É–¥–∞ –∑–∞–ø—Ä—ã–≥–Ω—É–ª–∞!',
                '–ù–µ —Ç—Ä–æ–≥–∞–ª —è —Ç–≤–æ—é –∫–æ—à–∫—É, —è –ø–æ–¥–∞—Ä–æ–∫ —Ç–µ–±–µ –¥–µ–ª–∞–ª –Ω–∞ –î–†!'
            ],
            player_handler=lambda player: player.update({'is_hidden': True})
        )

    def get_stage1_options(self):
        return [
            RegularOption(
                title='–ü–æ–Ω—é—Ö–∞—Ç—å –µ–≥–æ —Ä—É–∫–∏, –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –ø–∞—Ö–Ω—É—Ç—å –†–æ–∑–æ–π!',
                text='Oh my god! –ï–≥–æ —Ä—É–∫–∏ –ø–∞—Ö–Ω—É—Ç –≥—Ä—è–∑–Ω—ã–º–∏ –¥–µ–ª–∏—à–∫–∞–º–∏!',
            ),
            RegularOption(
                title='–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä',
                text='–õ—ë—à–∫–∏–Ω –∫–æ—Ç! –û–Ω —Å–º–æ—Ç—Ä–∏—Ç –¢–æ–º –∏ –î–∂–µ—Ä—Ä–∏!\n'
                     '–í –≥–æ–ª–æ–≤–µ —É —Ç–µ–±—è –ø—Ä–æ–Ω–æ—Å–∏—Ç—Å—è –º—ã—Å–ª—å: '
                     + decode(encoded[8]) + '\r',
                player_handler=lambda player: player.update({'is_hint_found': True})
            ),
            RegularOption(
                title='–°–≤—è–∑–∞—Ç—å –µ–≥–æ –∏ –∂–µ—Å—Ç–∫–æ –¥–æ–ø—Ä–æ—Å–∏—Ç—å!',
                text='–ü–ª–æ—Ö–∞—è –∏–¥–µ—è. –û–Ω —É–º–µ—Ä –æ—Ç —Å—Ç—Ä–∞—Ö–∞ –∏ –±–æ–ª–∏. –¢–µ–ø–µ—Ä—å —Ç–µ–±—è –ø–æ—Å–∞–¥—è—Ç.',
                back=DropStage()
            ),
        ]

    def handle_player(self, player: dict):
        if player.get('is_hidden'):
            self.cur_stage = 1
        if player.get('is_hint_found'):
            self.cur_stage = 2
            self._special_answer = '–ü–æ–¥ –∫–æ–≤—Ä–∏–∫'  # TODO: –ó–∞–ø–∏–∫–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞
            self._raise_option = getLocation4()

        self._text = self.text_template.format(self.text_stages[self.cur_stage])
        self.set_options(deepcopy(self.options_stages[self.cur_stage]))


def getLocation3():
    palm_her = DetectiveOption(
        title='–ü–æ–≥–ª–∞–¥–∏—Ç—å –†–æ–∑—É',
        text='–†–æ–∑–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –≤—ã–≥–ª–∞–∂–µ–Ω–∞, –Ω–æ –∫–∞–∫ –æ–Ω–∞ —Ç—É–¥–∞ –ø–æ–ø–∞–ª–∞? –¢–æ—á–Ω–æ –≤—Ä–∞–≥ –µ—ë –ø–æ—Ä–∞–±–æ—Ç–∞–ª!\n'
             '{}'
    )

    start = NextStage(
        title='3. –î–µ—Ç–µ–∫—Ç–∏–≤',
        text='–£—Ç–∏ –º–æ—è —Ö–æ—Ä–æ—à–∞—è! –ß—Ç–æ —Ç—ã —Ç–∞–º –¥–µ–ª–∞–ª–∞?',
        options=[
            palm_her
        ],
        back=None
    )

    return start


def getLocation4():
    buy_tickets_flight = RegularOption(
        title='–ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç—ã –≤ –¥–∞–ª—ë–∫—É—é —Å—Ç—Ä–∞–Ω—É –Ω–∞ —Å–∞–º–æ–ª—ë—Ç',
        text='–£–ø—Å, –≤ –£–∫—Ä–∞–∏–Ω–µ —Å–∞–º–æ–ª—ë—Ç—ã —Å–µ–π—á–∞—Å –Ω–µ –ª–µ—Ç–∞—é—Ç'
    )

    buy_tickets_boat = RegularOption(
        title='–ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç—ã –≤ –¥–∞–ª—ë–∫—É—é —Å—Ç—Ä–∞–Ω—É –Ω–∞ –ª–æ–¥–∫–µ',
        text='–ë–∏–ª–µ—Ç—ã –∫—É–ø–ª–µ–Ω—ã, —Å–∞–º–æ–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –ø—É—Ç—å!',
        options=[
            RegularOption(
                title='–û—Ç–ø–ª—ã–≤–∞—é! –ü—Ä–æ—â–∞–π—Ç–µ! –§–´',
                text='–ö–∞–∫ –æ–∫–∞–∑–∞–ª–æ—Å—å, —Ç—ã –∫—É–ø–∏–ª–∞ –±–∏–ª–µ—Ç—ã –Ω–∞ –ø–µ—Ä–µ–ø—Ä–∞–≤—É —á–µ—Ä–µ–∑ –¢–∏—Å—É...\n'
                     '–¢–æ-—Ç–æ –æ–Ω–∏ –ø–æ–∫–∞–∑–∞–ª–∏—Å—å —Ç–µ–±–µ —Å–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–∏–º–∏!\n'
                     '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ç–µ–±—è –ø–æ–π–º–∞–ª–∞ –æ—Ö—Ä–∞–Ω–∞ –≥—Ä–∞–Ω–∏—Ü—ã –£–∫—Ä–∞–∏–Ω—ã',
                back=DropStage()
            )
        ]
    )

    buy_tickets_train = RegularOption(
        title='–ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç—ã –≤ –¥–∞–ª—ë–∫—É—é —Å—Ç—Ä–∞–Ω—É –Ω–∞ –ø–æ–µ–∑–¥',
        text='–£–¥–æ–±–Ω–æ–µ –ª—é–∫—Å–æ–≤–æ–µ –∫—É–ø–µ! –õ–∏—á–Ω–æ –¥–ª—è —Ç–µ–±—è –∏ –†–æ–∑—ã!',
        options=[
            RegularOption(
                title='–í –ø—É—Ç—å!',
                text=decode(encoded[5]),  # TODO: –ó–∞–ø–∏—Å–∫–∞ —Å–¥–µ–ª–∞–Ω–∞
                options=[
                    RegularOption(
                        title='–°–ø–∞—Ç—å',
                        text='–≠—ç—ç–π! –ê –≥–¥–µ –º–æ–∏ –≤–µ—â–∏?! - –í–æ–ø–∏—à—å —Ç—ã —Å —É—Ç—Ä–∞ –ø–æ—Ä–∞–Ω—å—à–µ',
                        back=None,
                        special_answer='–ü–æ–¥ —Å–∏–¥–µ–Ω—å–µ–º',
                        raise_option=getLocation5()
                    )
                ]
            )
        ]
    )

    start = NextStage(
        title='4. –§–∏–Ω–∞–ª',
        text='–ü–æ—Å–ª–µ –≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —ç—Ç–æ–≥–æ –¥–µ–ª–∞,\n'
             '—Ç—ã —Ä–µ—à–∞–µ—à—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –Ω–∞ –∑–∞—Å–ª—É–∂–µ–Ω–Ω—É—é –¥–µ—Ç–µ–∫—Ç–∏–≤–Ω—É—é –ø–µ–Ω—Å–∏—é.\n'
             '–°–æ –≤—Å–µ–º–∏ –ø—Ä–∏—á–∏—Ç–∞—é—â–∏–º–∏—Å—è –≤—ã–ø–ª–∞—Ç–∞–º–∏!',
        options=[
            buy_tickets_flight,
            buy_tickets_boat,
            buy_tickets_train
        ],
        back=None
    )

    return start


def getLocation5():
    start = NextStage(
        title='5. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ',
        text='–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!\n'
             '                                  -- (—Å) –¢–≤–æ–π –õ—ë—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç :)',
        back=None,
        options=[
            RegularOption(
                title='–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏',
                text='\n'.join(
                    (f'{i}. {decode(hint)}' for i, hint in enumerate(encoded))
                )
            ),
            RegularOption(
                title='–ü–æ-–Ω–∞—Ä–æ—à–∫—É —É–º–µ—Ä–µ—Ç—å',
                text='–¢–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è :)',
                back=DropStage()
            )
        ],
        special_answer='–°–ø–∞—Å–∏–±–æ',
        raise_option=getLocation6()
    )

    return start


def getLocation6():
    start = NextStage(
        title='6. Exit',
        text='Olololo',
        player_handler=lambda player: exit()
    )

    return start


def getLocation7():
    pass


def getLocation8():
    pass


Engine().run(getLocation0())
